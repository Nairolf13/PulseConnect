{% extends "../layouts/base.twig" %}

{% block style %}
	<link rel="stylesheet" href="/../../assets/css/forgot-password.css">
{% endblock %}

{% block title %}
	<title>{{title}}</title>
{% endblock %}

{% block main %}

	<form id="resetPasswordForm" action="/forgot-password" method="POST">
		<label for="mail">Mot de passe oublié</label>
		<input type="email" id="email" name="mail" placeholder="Entrez votre adresse e-mail" required>
		<button type="submit">Envoyer un lien de réinitialisation</button>
		<a href="/login">Annuler</a>
	</form>

	{% include "../partials/error.twig" %}
{% endblock %}

{% block script %}
<script type="module">
    import { handleFetch } from '/../../assets/js/error.js';
       
    document.getElementById('resetPasswordForm').addEventListener('submit', (event) => {
        event.preventDefault(); 

        const email = document.getElementById('email').value;
    
        handleFetch('/reset-password', { email });
    });
</script>
{% endblock %}
